<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>oraTor - Translator</title>
        <meta name="description" content="ORATOR - Apertium powered translator"/>
        <meta name="viewport" content="width=device-width"/>
        
       
        <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.css">
       
        <link rel="stylesheet" href="styles/style.css">
        <!-- endbuild -->
    </head>

    <body data-spy="scroll" data-target="#sidebar">

        <header class="header"> 
            <figure>
                <a href=""><img src="images/logo.png" onclick="pageRefresh" alt="oraTor" width="250"></a>
            </figure>
        </header>

        <section id="sidebar" class="sidebar">
            <ul class="navbar nav nav-list affix-top" data-spy="affix" data-offset-top="50">
                <li class="active"><a href="#container">Translator</a></li>
                <li><a href="#funzone">FunZone</a></li>
                <li><a href="#devprogress">DevProgress</a></li>
             </ul>
        </section>

        <div id="container" class="container">
            <!-- <h1 class="text-muted">oraTor</h1> -->

    <!--******************   TRANSLATOR  ****************-->
            <!-- <h2 style="padding:40px;"> Translator </h2> -->
            <section  id='translator' class="jumbotron">


                <section class="input">
                    <select class="form-control lang-input"
                            data-bind="options: inputLangs, selectedOptions: selectedInLangs,
                                       event: {change: updateOutputLangs} ">
                    </select>
                    <!-- MODAL dialog for previous queries -->
                    <input  type="button" data-toggle="modal" href="#myModal" 
                            class="btn btn-primary btn-sm" value="Previous queries">

                      <!-- Modal -->
                    <div class="modal fade" id="myModal" role="dialog" 
                         aria-labelledby="myModalLabel" aria-hidden="true">
                        
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" 
                                            data-bind="click: resQueryToShow" aria-hidden="true">&times;
                                    </button>
                                    <h4 class="modal-title">History of translations</h4>
                                </div>

                                <!-- listing the previous queries -->
                                <ul class="modal-body" style="font-size: 14px; list-style-type:none" 
                                    data-bind="foreach: prevQueries">
                                    <li>
                                        <span data-bind="text: $data"> </span>
                                        <div class="btn-group" style="float:right" >
                                        
                                        <button class="btn btn-primary btn-xs"
                                                data-bind="click: $parent.showQuery">Show</button>
                                        
                                        <button class="btn btn-success btn-xs"  data-dismiss="modal" 
                                                data-bind="click: $parent.selectQuery">Select</button>

                                        <button class="btn btn-danger btn-xs" 
                                                data-bind="click: $parent.removeQuery">Remove</button>

                                        </div>
                                    </li>
                                </ul>
                                
                                <div data-bind="visible: queryToShow()" style="height:50px;padding-top:0px">
                                    <hr>
                                    <em data-bind="text: queryToShow()" style="margin-left:20px; font-size:14px;"></em>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary"
                                            data-bind="click: clearHistory, visible: prevQueries().length > 0">
                                        Clear history
                                    </button>
                                    
                                    <button type="button" class="btn btn-default" data-dismiss="modal"
                                            data-bind="visible: prevQueries().length >0, click: resQueryToShow">
                                        Cancel
                                    </button>

                                    <button type="button" class="btn btn-primary" data-dismiss="modal"
                                            data-bind="visible: prevQueries().length == 0, click: resQueryToShow">
                                        Close
                                    </button>

                                </div>

                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->

                    <textarea   class="text-input form-control" rows="15" cols="50"
                                data-bind="value: textInput, valueUpdate: 'afterkeydown'"></textarea>    
                </section>   

                <section class="output">
                    <select class="form-control lang-output"
                            data-bind="options: outputLangs, selectedOptions: selectedOutLangs">
                        
                    </select>

                    <textarea   class="form text-output" rows="15" cols="50" disabled
                                data-bind="html: textOutput"></textarea>    
                </section>

                <div id="trans-btn">
                    <button class="btn btn-success btn-sm" 
                            data-bind="click: translate"> translate </button>
                </div>
            </section>

    <!--******************   FUNZONE ****************-->

            <section id="funzone" class="funzone">
                <h2 style="padding:40px;"> Programming Puzzle</h2>

                <figure style="float:left; margin-left:100px">
                    <img data-bind="attr: {src: 'images/' + funPicture()}" width='300'>
                </figure>
                <div data-bind="visible: !showInput()">
                    <h2 style="color: green;" 
                        data-bind="visible: guessedWords().length == 3"> Bravo! </h2>

                    <h2 style="color: red;" 
                        data-bind="visible: guessedWords().length == 10"> Wow, you are good! </h2>

                    <div class="btn-group">
                        <button class="btn btn-default"
                                data-bind="click: backToPuzzle, visible: guessedWords().length < 5">
                                Find the rest! 
                        </button>
                        <button class="btn btn-default"
                                data-bind="click: finishPuzzle">
                                End the game!
                        </button>
                    </div>
                </div>

                <div class="input-puzzle" data-bind="visible: showInput">

                    <p style="font-size:16px;float:left;text-align:left;"> 
                        <strong>Find at least 3 words </strong> <br>
                        <em>(programming languages/frameworks)</em>
                    </p>

                    <form data-bind="submit: checkPuzzleAnswer">
                        <input  class="form-control" style="width:180px; font-size:18px; float:left;"  
                                data-bind="value: puzzleAnswer, valueUpdate: 'afterkeydown'"  maxlength="15">

                        <button class="btn btn-success btn-sm" style="float:left; font-size:15px;"
                                data-bind="enable: puzzleAnswer().length > 0" type="submit"> Ok
                        </button>
                    </form>
                    <div class="guessed-words">
                        <div data-bind="foreach: guessedWords" style="list-style-type:none; ">
                            <li data-bind="text: $data"></li>
                        </div>
                    </div>
                </div>
            
            </section>

    <!--******************   DEVPROGRESS  ****************-->

            <section id="devprogress" class="dev-progress">
                <section>
                    <h2 class='text-strong'> Project Development Progress </h2>
                    <form oninput="processProgressInput(p.value);">
                        <img id="progressimg" src='images/default.jpg' width="500"> 
                        <div class="range-bar">
                            0%&nbsp;<input id="p" style="width:500px;" type="range" value="0"> &nbsp;100%
                        </div>
                        <span id="pValue"> </span>
                    </form> 

                </section>
            </section>

            <div class="footer">
                <p> Transla<span style="color:black;font-weight:bold;">TOR</span> for <span style="color:red;font-weight:bold;">ORA</span>cle by Ahliddin Ibragimov</p>
                <p>Powered by <a href="http://www.apertium.org">Apertium</a></p>
            </div>

        </div>


        <!-- External libraries jQuery-->    
        <script src="lib/jquery/dist/jquery.js"></script>
        <script src="lib/smooth_scrolling.js"></script>
        
        <!-- External libraries for Bootstrap-->    
        <script src="lib/knockout/knockout-3.1.0.js"></script>
        <script src="lib/bootstrap/js/affix.js"></script>
        <script src="lib/bootstrap/js/alert.js"></script>
        <script src="lib/bootstrap/js/dropdown.js"></script>
        <script src="lib/bootstrap/js/tooltip.js"></script>
        <script src="lib/bootstrap/js/modal.js"></script>
        <script src="lib/bootstrap/js/transition.js"></script>
        <script src="lib/bootstrap/js/button.js"></script>
        <script src="lib/bootstrap/js/popover.js"></script>
        <script src="lib/bootstrap/js/carousel.js"></script>
        <script src="lib/bootstrap/js/scrollspy.js"></script>
        <script src="lib/bootstrap/js/collapse.js"></script>
        <script src="lib/bootstrap/js/tab.js"></script>
        
        <!-- Project modules -->
        <script src="data/ISO-639-2.json"></script>
        <script src="scripts/TranslatorDataModel.js"></script>
        <script src="scripts/TranslatorViewModel.js"></script>
        <script src="scripts/FunzoneViewModel.js"></script>
        <script src="scripts/helpMethods.js"></script>
        <script src="scripts/main.js"></script>
        
        
</body>
</html>
